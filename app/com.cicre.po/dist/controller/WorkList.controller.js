sap.ui.define(["com/cicre/po/controller/BaseController","sap/ui/model/json/JSONModel","sap/ui/core/routing/History","com/cicre/po/model/formatter","sap/ui/model/Filter","sap/ui/model/FilterOperator","sap/ui/export/Spreadsheet","sap/m/MessageToast"],function(e,t,i,r,a,o,s,l){"use strict";return e.extend("com.cicre.po.controller.WorkList",{formatter:r,sCoCode:"",sPONO:"",sVendor:"",sProj:"",sPGrp:"",sPOrg:"",POrgText:"",POrgCode:"",sProjectCode:"",ContractCode:"",sDocType:"",SupeiorWBSCode:"",sVendor:"",SERTYPE:"",SERTYPEText:"",onInit:function(){var e,i,r=this.byId("table");i=r.getBusyIndicatorDelay();this._oTableSearchState=[];e=new t({worklistTableTitle:this.getResourceBundle().getText("worklistTableTitle"),saveAsTileTitle:this.getResourceBundle().getText("worklistViewTitle"),shareOnJamTitle:this.getResourceBundle().getText("worklistViewTitle"),shareSendEmailSubject:this.getResourceBundle().getText("shareSendEmailWorklistSubject"),shareSendEmailMessage:this.getResourceBundle().getText("shareSendEmailWorklistMessage",[location.href]),tableNoDataText:this.getResourceBundle().getText("tableNoDataText"),tableBusyDelay:0});this.setModel(e,"worklistView");this.sPOrg="1000";this.POrgText="TMG CENTRAL Purch.";this.getView().byId("idPurchaseOrganization").setValue(this.POrgText);r.attachEventOnce("updateFinished",function(){e.setProperty("/tableBusyDelay",i)})},onUpdateFinished:function(e){var t,i=e.getSource(),r=e.getParameter("total");if(r&&i.getBinding("items").isLengthFinal()){t=this.getResourceBundle().getText("Contract",[r])}else{t=this.getResourceBundle().getText("Contract")}this.getModel("worklistView").setProperty("/worklistTableTitle",t)},onPress:function(e){this._showObject(e.getSource())},onNavBack:function(){var e=i.getInstance().getPreviousHash(),t=sap.ushell.Container.getService("CrossApplicationNavigation");if(e!==undefined||!t.isInitialNavigation()){history.go(-1)}else{t.toExternal({target:{shellHash:"#Shell-home"}})}},onShareInJamPress:function(){var e=this.getModel("worklistView"),t=sap.ui.getCore().createComponent({name:"sap.collaboration.components.fiori.sharing.dialog",settings:{object:{id:location.href,share:e.getProperty("/shareOnJamTitle")}}});t.open()},onSearch:function(e){if(e.getParameters().refreshButtonPressed){this.onRefresh()}else{var t=[];var i=e.getParameter("query");if(i&&i.length>0){t=[new a("PoNumber",o.Contains,i)]}this._applySearch(t)}},onRefresh:function(){var e=this.byId("table");e.getBinding("items").refresh()},_showObject:function(e){this.getRouter().navTo("object",{objectId:e.getBindingContext().getProperty("PoNumber")})},onSearchContract:function(){var e=this.getView().byId("table");e.setBusy(true);var t=this.getView().getModel();var i=[];if(this.ContractCode.length>0&&this.getView().byId("idSearchByContract").getValue()!==""){i.push(new sap.ui.model.Filter("PoNumber",sap.ui.model.FilterOperator.EQ,this.ContractCode))}if(this.sVendor.length>0&&this.getView().byId("idSearchByVendor").getValue()!==""){i.push(new sap.ui.model.Filter("Vendor",sap.ui.model.FilterOperator.EQ,this.sVendor))}if(this.sCoCode.length>0){i.push(new sap.ui.model.Filter("CompCode",sap.ui.model.FilterOperator.EQ,this.sCoCode))}if(this.sPOrg.length>0&&this.getView().byId("idPurchaseOrganization").getValue()!==""){i.push(new sap.ui.model.Filter("PurchOrg",sap.ui.model.FilterOperator.EQ,this.sPOrg))}if(this.sProjectCode.length>0&&this.getView().byId("idSearchByProjecttt").getValue()!==""){i.push(new sap.ui.model.Filter("Project",sap.ui.model.FilterOperator.EQ,this.sProjectCode))}if(this.sDocType.length>0&&this.getView().byId("idSearchByDecTy").getValue()!==""){i.push(new sap.ui.model.Filter("DocType",sap.ui.model.FilterOperator.EQ,this.sDocType))}if(this.SERTYPE.length>0&&this.getView().byId("idserviceType").getValue()!==""){i.push(new sap.ui.model.Filter("SerType",sap.ui.model.FilterOperator.EQ,this.SERTYPE))}if(this.getView().byId("idFConstructionType").getSelectedKey().length>0&&this.getView().byId("idFConstructionType").getValue()!==""){i.push(new sap.ui.model.Filter("ConstructionType",sap.ui.model.FilterOperator.EQ,this.getView().byId("idFConstructionType").getSelectedKey()))}if(this.SupeiorWBSCode.length>0){i.push(new sap.ui.model.Filter("SuperiorWbs",sap.ui.model.FilterOperator.EQ,this.SupeiorWBSCode))}if(this.getView().byId("idCreatedBy").getValue().length>0){i.push(new sap.ui.model.Filter("CreatedBy",sap.ui.model.FilterOperator.contains,this.getView().byId("idCreatedBy").getValue().toUpperCase()))}var r=t.bindList("/ContractPOHeaderSet",null,null,null,{$$updateGroupId:"contractSearch"});if(i.length>0){var a=new sap.ui.model.Filter({filters:i,and:true});r.filter(a)}else{r.filter([])}r.requestContexts(0,100).then(function(t){var i=t.map(function(e){return e.getObject()});var r=new sap.ui.model.json.JSONModel({ContractPOHeaderSet:i});e.setModel(r,"poModel");e.setBusy(false)}).catch(function(t){console.error("Error loading data:",t);e.setBusy(false);sap.m.MessageToast.show("Error loading data: "+(t.message||"Unknown error"))})},onDisplaySearchCompDialog:function(){if(!this._oDialog){this._oDialog=sap.ui.xmlfragment("com.cicre.po.view.fragments.CompanySearchDialog",this);this._oDialog.setModel(this.getView().getModel())}this._oDialog.open();var e=new sap.m.StandardListItem({title:"{IdText}",description:"{IdNumber}"});var t=[];var i=new sap.ui.model.Filter("ValueHelpType",sap.ui.model.FilterOperator.EQ,"CompCode");t.push(i);this._oDialog.bindAggregation("items",{path:"/ValueHelpSet",template:e,filters:t})},onSearchCompanyChange:function(){this.sCoCode="";this.sCoText="";this.getView().byId("idSearchByCompany").setValue("")},onSearchProjectChange:function(){this.sProjectCode="";this.getView().byId("idSearchByProjecttt").setValue("")},onSearchContractChange:function(){this.ContractCode="";this.getView().byId("idSearchByContract").setValue("")},onSearchWBS:function(){this.SupeiorWBSText="";this.SupeiorWBSCode="";this.getView().byId("idSupeiorWBS").setValue("")},onSearchByVendor:function(){this.sVendor="";this.getView().byId("idSearchByVendor").setValue("")},onSearchSuggestDecTy:function(){this.sDocType="";this.sDocTypeText="";this.getView().byId("idSearchByDecTy").setValue("")},onserviceTypeChange:function(){this.SerType="";this.getView().byId("idserviceType").setValue("")},handleSearchComp:function(e){var t=e.getParameter("value");var i=new sap.m.StandardListItem({title:"{IdText}",description:"{IdNumber}"});var r=[];var a=new sap.ui.model.Filter("ValueHelpType",sap.ui.model.FilterOperator.EQ,"CompCode");var o=new sap.ui.model.Filter("SelectionParameter",sap.ui.model.FilterOperator.Contains,t);r.push(a);r.push(o);this._oDialog.bindAggregation("items",{path:"/ValueHelpSet",template:i,filters:r})},onSelectCompanyList:function(e){var t=this;var i=e.getParameter("selectedContexts");if(i&&i.length){i.map(function(e){t.sCoCode=e.getObject().IdNumber;t.sCoText=e.getObject().IdText;t.getView().byId("idSearchByCompany").setValue(e.getObject().IdText)})}else{t.sCoCode="";t.sCoText="";t.getView().byId("idSearchByCompany").setValue("");sap.m.MessageToast.show("No new item was selected.")}e.getSource().getBinding("items").filter([])},onDisplaySearchContract:function(){if(!this._ContractDescDialog){this._ContractDescDialog=sap.ui.xmlfragment("com.cicre.po.view.fragments.ContractDescriptionDialog",this);this._ContractDescDialog.setModel(this.getView().getModel())}this._ContractDescDialog.open();var e=new sap.m.StandardListItem({title:"{IdText}",description:"{IdNumber}"});var t=[];var i=new sap.ui.model.Filter("ValueHelpType",sap.ui.model.FilterOperator.EQ,"ContDesc");t.push(i);this._ContractDescDialog.bindAggregation("items",{path:"/ValueHelpSet",template:e,filters:t})},handleSearchContract:function(e){var t=e.getParameter("value");var i=new sap.ui.model.Filter("ValueHelpType",sap.ui.model.FilterOperator.EQ,"ContDesc");var r=new sap.ui.model.Filter("SelectionParameter",sap.ui.model.FilterOperator.Contains,t);var a=new sap.m.StandardListItem({title:"{IdText}",description:"{IdNumber}"});var o=[];o.push(i);o.push(r);this._ContractDescDialog.bindAggregation("items",{path:"/ValueHelpSet",template:a,filters:o})},onSelectContractList:function(e){var t=this;var i=e.getParameter("selectedContexts");if(i&&i.length){i.map(function(e){var i=e.getObject().IdNumber.split(" ");t.ContractCode=i[0];t.getView().byId("idSearchByContract").setValue(e.getObject().IdText)})}else{t.ContractCode="";t.getView().byId("idSearchByContract").setValue("");sap.m.MessageToast.show("No new item was selected.")}e.getSource().getBinding("items").filter([])},onserviceTypeValueHelpPress:function(){if(!this._oDocTypeDialog){this._oDocTypeDialog=sap.ui.xmlfragment("com.cicre.po.view.fragments.ServiceTypeSearchDialog",this);this._oDocTypeDialog.setModel(this.getView().getModel())}this._oDocTypeDialog.open();var e=new sap.m.StandardListItem({title:"{IdText}",description:"{IdNumber}"});var t=[];var i=new sap.ui.model.Filter("ValueHelpType",sap.ui.model.FilterOperator.EQ,"MSERTYPE");t.push(i);this._oDocTypeDialog.bindAggregation("items",{path:"/ValueHelpSet",template:e,filters:t})},handleSearchServicetype:function(e){var t=e.getParameter("value");var i=new sap.ui.model.Filter("ValueHelpType",sap.ui.model.FilterOperator.EQ,"MSERTYPE");var r=new sap.ui.model.Filter("SelectionParameter3",sap.ui.model.FilterOperator.Contains,t);var a=new sap.m.StandardListItem({title:"{IdText}",description:"{IdNumber}"});var o=[];o.push(i);o.push(r);this._oDocTypeDialog.bindAggregation("items",{path:"/ValueHelpSet",template:a,filters:o})},onSelectServicetypeList:function(e){var t=this;var i=e.getParameter("selectedContexts");if(i&&i.length){i.map(function(e){t.SERTYPE=e.getObject().IdNumber;t.SERTYPEText=e.getObject().IdText;t.getView().byId("idserviceType").setValue(e.getObject().IdText)})}else{t.SERTYPE="";t.SERTYPEText="";t.getView().byId("idserviceType").setValue("");sap.m.MessageToast.show("No new item was selected.")}e.getSource().getBinding("items").filter([])},onDisplaySearchidSupeiorWBSDialog:function(){if(this.sCoCode&&this.sProjectCode){if(!this._SuperiorWBSDialog){this._SuperiorWBSDialog=sap.ui.xmlfragment("com.cicre.po.view.fragments.SuperiorWBSSearchDialog",this);this._SuperiorWBSDialog.setModel(this.getView().getModel())}this._SuperiorWBSDialog.open();var e=new sap.m.StandardListItem({title:"{IdText}",description:"{IdNumber}"});var t=[];var i=new sap.ui.model.Filter("ValueHelpType",sap.ui.model.FilterOperator.EQ,"SUBWBS");var r=new sap.ui.model.Filter("SelectionParameter",sap.ui.model.FilterOperator.EQ,this.sProjectCode);var a=new sap.ui.model.Filter("SelectionParameter2",sap.ui.model.FilterOperator.EQ,this.sCoCode);var o=new sap.ui.model.Filter("SelectionParameter4",sap.ui.model.FilterOperator.EQ,1e3);t.push(i);t.push(r);t.push(a);t.push(o);this._SuperiorWBSDialog.bindAggregation("items",{path:"/ValueHelpSet",template:e,filters:t})}else{sap.m.MessageToast.show(this.getView().getModel("i18n").getResourceBundle().getText("Msg_Error_Select_WBS_C"))}},onSelectCheque:function(e){this.SupeiorWBSText=e.getParameters().rowContext.getObject().IdText;this.SupeiorWBSCode=e.getParameters().rowContext.getObject().IdNumber;this.getView().byId("idSupeiorWBS").setValue(this.SupeiorWBSText);this._SuperiorWBSDialog.close();this._SuperiorWBSDialog.destroy();this._SuperiorWBSDialog=null},handleSearWBS:function(){var e=this;if(!this._GroupDialog){this._GroupDialog=sap.ui.xmlfragment("com.cicre.po.view.fragments.SuperiorWBSSearchDialog",this);this._GroupDialog.setModel(this.getView().getModel())}var t=e.getView().getModel();var i=new sap.ui.model.json.JSONModel;i.setData({SupeiorWBSSet:[]});e._SuperiorWBSDialog.setModel(i,"localJson");var r=[];var a=[];var o=new sap.ui.model.Filter("ValueHelpType",sap.ui.model.FilterOperator.EQ,"SUBWBS");var s=new sap.ui.model.Filter("SelectionParameter",sap.ui.model.FilterOperator.EQ,this.sProjectCode);var l=new sap.ui.model.Filter("SelectionParameter2",sap.ui.model.FilterOperator.EQ,this.sCoCode);var n=new sap.ui.model.Filter("SelectionParameter3",sap.ui.model.FilterOperator.EQ,sap.ui.getCore().byId("idDesc").getValue());var p=new sap.ui.model.Filter("SelectionParameter4",sap.ui.model.FilterOperator.EQ,sap.ui.getCore().byId("idlenth").getValue());r.push(o);r.push(s);r.push(l);if(sap.ui.getCore().byId("idDesc").getValue()!==""){r.push(n)}if(sap.ui.getCore().byId("idlenth").getValue()!==""){r.push(p)}if(sap.ui.getCore().byId("idlenth").getValue()===""){var p=new sap.ui.model.Filter("SelectionParameter4",sap.ui.model.FilterOperator.EQ,500);r.push(p)}t.read("/ValueHelpSet",{filters:r,success:function(t){var i=JSON.parse(JSON.stringify(t.results));e._SuperiorWBSDialog.getModel("localJson").setProperty("/SupeiorWBSSet",i)},error:function(e){sap.m.MessageToast.show("Error")}})},_handleCancelPresswbs:function(){var e=this;this.SupeiorWBSText="";this.SupeiorWBSCode="";this.getView().byId("idSupeiorWBS").setValue("");e._SuperiorWBSDialog.close();e._SuperiorWBSDialog.destroy();e._SuperiorWBSDialog=null},handleSearchSuperior:function(e){var t=e.getParameter("value");var i=new sap.ui.model.Filter("ValueHelpType",sap.ui.model.FilterOperator.EQ,"SUBWBS");var r=new sap.ui.model.Filter("SelectionParameter",sap.ui.model.FilterOperator.EQ,this.sProjectCode);var a=new sap.ui.model.Filter("SelectionParameter2",sap.ui.model.FilterOperator.EQ,this.sCoCode);var o=new sap.ui.model.Filter("SelectionParameter3",sap.ui.model.FilterOperator.Contains,t);var s=new sap.ui.model.Filter("SelectionParameter4",sap.ui.model.FilterOperator.EQ,1e3);var l=new sap.m.StandardListItem({title:"{IdText}",description:"{IdNumber}"});var n=[];n.push(i);n.push(r);n.push(a);n.push(o);n.push(s);this._SuperiorWBSDialog.bindAggregation("items",{path:"/ValueHelpSet",template:l,filters:n})},onSelectSuperiorList:function(e){var t=this;var i=e.getParameter("selectedContexts");if(i&&i.length){i.map(function(e){t.SupeiorWBSText=e.getObject().IdText;t.SupeiorWBSCode=e.getObject().IdNumber;t.getView().byId("idSupeiorWBS").setValue(e.getObject().IdText)})}else{t.SupeiorWBSText="";t.SupeiorWBSCode="";t.getView().byId("idSupeiorWBS").setValue("");sap.m.MessageToast.show("No new item was selected.")}e.getSource().getBinding("items").filter([])},onDisplaySearchDecTyDialog:function(){if(!this._oDocTypeDialog){this._oDocTypeDialog=sap.ui.xmlfragment("com.cicre.po.view.fragments.DocumentSearchDialog",this);this._oDocTypeDialog.setModel(this.getView().getModel())}this._oDocTypeDialog.open();var e=new sap.m.StandardListItem({title:"{IdText}",description:"{IdNumber}"});var t=[];var i=new sap.ui.model.Filter("ValueHelpType",sap.ui.model.FilterOperator.EQ,"DocType");t.push(i);this._oDocTypeDialog.bindAggregation("items",{path:"/ValueHelpSet",template:e,filters:t})},handleSearchDocument:function(e){var t=e.getParameter("value");var i=new sap.ui.model.Filter("ValueHelpType",sap.ui.model.FilterOperator.EQ,"DocType");var r=new sap.ui.model.Filter("SelectionParameter",sap.ui.model.FilterOperator.Contains,t);var a=new sap.m.StandardListItem({title:"{IdText}",description:"{IdNumber}"});var o=[];o.push(i);o.push(r);this._oDocTypeDialog.bindAggregation("items",{path:"/ValueHelpSet",template:a,filters:o})},onSelectDocumentList:function(e){var t=this;var i=e.getParameter("selectedContexts");if(i&&i.length){i.map(function(e){t.sDocType=e.getObject().IdNumber;t.sDocTypeText=e.getObject().IdText;t.getView().byId("idSearchByDecTy").setValue(e.getObject().IdText)})}else{t.sDocType="";t.sDocTypeText="";t.getView().byId("idSearchByDecTy").setValue("");sap.m.MessageToast.show("No new item was selected.")}e.getSource().getBinding("items").filter([])},onDisplaySearchProject:function(){if(this._projectDialog){this._projectDialog.destroy();this._projectDialog=null}if(!this._projectDialog){this._projectDialog=sap.ui.xmlfragment("com.cicre.po.view.fragments.ProjectSearchDialog",this);this._projectDialog.setModel(this.getView().getModel())}this._projectDialog.open();var e=new sap.m.StandardListItem({title:"{IdText}",description:"{IdNumber}"});var t=[];var i=new sap.ui.model.Filter("ValueHelpType",sap.ui.model.FilterOperator.EQ,"PROJ");t.push(i);this._projectDialog.bindAggregation("items",{path:"/ValueHelpSet",template:e,filters:t})},handleSearchProject:function(e){var t=e.getParameter("value");var i=new sap.m.StandardListItem({title:"{IdText}",description:"{IdNumber}"});var r=[];var a=new sap.ui.model.Filter("ValueHelpType",sap.ui.model.FilterOperator.EQ,"PROJ");var o=new sap.ui.model.Filter("SelectionParameter",sap.ui.model.FilterOperator.Contains,t);r.push(a);r.push(o);this._projectDialog.bindAggregation("items",{path:"/ValueHelpSet",template:i,filters:r})},onSelectProjectList:function(e){var t=this;var i=e.getParameter("selectedContexts");if(i&&i.length){i.map(function(e){t.sProjectCode=e.getObject().IdNumber;t.getView().byId("idSearchByProjecttt").setValue(e.getObject().IdText)})}else{t.sProjectCode="";t.getView().byId("idSearchByProjecttt").setValue("");sap.m.MessageToast.show("No new item was selected.")}e.getSource().getBinding("items").filter([])},onDisplaySearchVendorDialog:function(){if(this.sCoCode&&this.sPOrg){if(this._oVendorDialog){this._oVendorDialog.destroy();this._oVendorDialog=null}if(!this._oVendorDialog){this._oVendorDialog=sap.ui.xmlfragment("com.cicre.po.view.fragments.VendorSearchDialog",this);this._oVendorDialog.setModel(this.getView().getModel())}this._oVendorDialog.open();var e=new sap.m.StandardListItem({title:"{IdText}",description:"{IdNumber}"});var t=[];var i=new sap.ui.model.Filter("ValueHelpType",sap.ui.model.FilterOperator.EQ,"Vendor");var r=new sap.ui.model.Filter("SelectionParameter2",sap.ui.model.FilterOperator.EQ,this.sCoCode);var a=new sap.ui.model.Filter("SelectionParameter3",sap.ui.model.FilterOperator.EQ,this.sPOrg);t.push(i);t.push(r);t.push(a);this._oVendorDialog.bindAggregation("items",{path:"/ValueHelpSet",template:e,filters:t})}else{sap.m.MessageToast.show(this.getView().getModel("i18n").getResourceBundle().getText("Msg_Error_Select_CO_PORG"))}},handleSearchVendor:function(e){var t=e.getParameter("value");var i=new sap.ui.model.Filter("ValueHelpType",sap.ui.model.FilterOperator.EQ,"Vendor");var r=new sap.ui.model.Filter("SelectionParameter",sap.ui.model.FilterOperator.Contains,t);var a=new sap.ui.model.Filter("SelectionParameter2",sap.ui.model.FilterOperator.EQ,this.sCoCode);var o=new sap.ui.model.Filter("SelectionParameter3",sap.ui.model.FilterOperator.EQ,this.sPOrg);var s=new sap.m.StandardListItem({title:"{IdText}",description:"{IdNumber}"});var l=[];l.push(i);l.push(r);l.push(a);l.push(o);this._oVendorDialog.bindAggregation("items",{path:"/ValueHelpSet",template:s,filters:l})},onSelectVendorList:function(e){var t=this;var i=e.getParameter("selectedContexts");if(i&&i.length){i.map(function(e){t.sVendor=e.getObject().IdNumber;t.getView().byId("idSearchByVendor").setValue(e.getObject().IdText)})}else{t.sVendor="";t.getView().byId("idSearchByVendor").setValue("");sap.m.MessageToast.show("No new item was selected.")}e.getSource().getBinding("items").filter([])},onDisplaySearchPOrgDialog:function(){if(!this._oPOrgDialog){this._oPOrgDialog=sap.ui.xmlfragment("com.cicre.po.view.fragments.PurchaseOrgSearchDialog",this);this._oPOrgDialog.setModel(this.getView().getModel())}this._oPOrgDialog.open();var e=new sap.m.StandardListItem({title:"{IdText}",description:"{IdNumber}"});var t=[];var i=new sap.ui.model.Filter("ValueHelpType",sap.ui.model.FilterOperator.EQ,"PORG");var r=new sap.ui.model.Filter("SelectionParameter2",sap.ui.model.FilterOperator.Contains,this.sCoCode);t.push(i);t.push(r);this._oPOrgDialog.bindAggregation("items",{path:"/ValueHelpSet",template:e,filters:t})},handleSearchPOrg:function(e){var t=e.getParameter("value");var i=new sap.ui.model.Filter("ValueHelpType",sap.ui.model.FilterOperator.EQ,"PORG");var r=new sap.ui.model.Filter("SelectionParameter",sap.ui.model.FilterOperator.Contains,t);var a=new sap.ui.model.Filter("SelectionParameter2",sap.ui.model.FilterOperator.Contains,this.sCoCode);var o=new sap.m.StandardListItem({title:"{IdText}",description:"{IdNumber}"});var s=[];s.push(i);s.push(r);s.push(a);this._oPOrgDialog.bindAggregation("items",{path:"/ValueHelpSet",template:o,filters:s})},onSelectPOrgList:function(e){var t=this;var i=e.getParameter("selectedContexts");if(i&&i.length){i.map(function(e){t.sPOrg=e.getObject().IdNumber;t.getView().byId("idPurchaseOrganization").setValue(e.getObject().IdText)})}else{t.sPOrg="";t.getView().byId("idPurchaseOrganization").setValue("");sap.m.MessageToast.show("No new item was selected.")}e.getSource().getBinding("items").filter([])},onDisplaySearchPGrpDialog:function(){if(!this._oPGrpDialog){this._oPGrpDialog=sap.ui.xmlfragment("com.cicre.po.view.fragments.PurchaseGrpSearchDialog",this);this._oPGrpDialog.setModel(this.getView().getModel())}this._oPGrpDialog.open();var e=new sap.m.StandardListItem({title:"{IdText}",description:"{IdNumber}"});var t=[];var i=new sap.ui.model.Filter("ValueHelpType",sap.ui.model.FilterOperator.EQ,"PGRP");t.push(i);this._oPGrpDialog.bindAggregation("items",{path:"/ValueHelpSet",template:e,filters:t})},handleSearchPGrp:function(e){var t=e.getParameter("value");var i=new sap.ui.model.Filter("ValueHelpType",sap.ui.model.FilterOperator.EQ,"PGRP");var r=new sap.ui.model.Filter("SelectionParameter",sap.ui.model.FilterOperator.Contains,t);var a=new sap.m.StandardListItem({title:"{IdText}",description:"{IdNumber}"});var o=[];o.push(i);o.push(r);this._oPGrpDialog.bindAggregation("items",{path:"/ValueHelpSet",template:a,filters:o})},onSelectPGrpList:function(e){var t=this;var i=e.getParameter("selectedContexts");if(i&&i.length){i.map(function(e){t.sPGrp=e.getObject().IdNumber;t.getView().byId("idPurchaseGroup").setValue(e.getObject().IdText)})}else{t.sPGrp="";t.getView().byId("idPurchaseGroup").setValue("");sap.m.MessageToast.show("No new item was selected.")}e.getSource().getBinding("items").filter([])},onPressPO:function(e){var t=e.getSource().getBindingContext("poModel").getProperty("PoNumber"),i=sap.ui.core.UIComponent.getRouterFor(this);i.navTo("object",{objectId:t})},onCreateContractPress:function(e){this.getView().setBusy(true);this.getRouter().navTo("createContract");this.getView().setBusy(false)}})});
//# sourceMappingURL=WorkList.controller.js.map